{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\evely\\\\Evelyn-Santos\\\\modulo3\\\\pokedex\\\\pokedex\\\\src\\\\Contexts\\\\GlobalState.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport GlobalContext from './GlobalContext';\nimport URL from '../Constants/Url';\nimport { goToDetails } from \"../Routes/Coordinators\";\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GlobalState = props => {\n  _s();\n\n  const history = useHistory();\n  const [pokemons, setPokemons] = useState([]);\n  const [url, setUrl] = useState('');\n  const [pokedex, setPokedex] = useState([]);\n  const [details, setDetails] = useState([]);\n  const [newPokemon, setNewPokemon] = useState(URL); // useEffect(()=>{ // getPokemons() // }, [newPokemon]) \n\n  const getPokemons = () => {\n    axios.get(newPokemon).then(res => {\n      setPokemons(res.data);\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const addPokemon = newPoke => {\n    const adicionaPoke = pokedex.findIndex(i => {\n      return i.name === newPoke.name;\n    });\n    const newList = [...pokedex];\n\n    if (adicionaPoke === -1) {\n      newList.push({ ...newPoke,\n        amount: 1\n      });\n      console.log(states.pokedex[adicionaPoke]);\n    } else {\n      console.log('Pokemon já adicionado');\n    }\n\n    setPokedex(newList);\n    console.log(pokedex);\n  };\n\n  const removePokedex = poke => {\n    const removePoke = pokedex.findIndex(i => {\n      return i.id === poke.id;\n    });\n    let newList = [...pokedex];\n\n    if (newList[removePoke].amount === 1) {\n      newList.splice(removePoke, 1);\n    } else {\n      newList[removePoke].amount -= 1;\n    }\n\n    ;\n    setPokedex(newList);\n    console.log('excluiu', pokedex);\n  };\n\n  const getDetail = name => {\n    axios.get(`${URL}/${name}`).then(res => {\n      setDetails(res.data);\n      console.log(res.data);\n      console.log(states.details);\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n\n  const requests = {\n    getPokemons,\n    getDetail,\n    addPokemon,\n    removePokedex\n  };\n  const states = {\n    pokemons,\n    details,\n    url,\n    pokedex\n  };\n  const setters = {\n    setPokemons,\n    setNewPokemon,\n    setUrl,\n    setPokedex\n  };\n  const datas = {\n    requests,\n    states,\n    setters\n  };\n  return /*#__PURE__*/_jsxDEV(GlobalContext.Provider, {\n    value: datas,\n    children: [\" \", props.children, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GlobalState, \"gbhEud84uxDu878D1tgcyQr5IVY=\", false, function () {\n  return [useHistory];\n});\n\n_c = GlobalState;\nexport default GlobalState;\n\nvar _c;\n\n$RefreshReg$(_c, \"GlobalState\");","map":{"version":3,"sources":["C:/Users/evely/Evelyn-Santos/modulo3/pokedex/pokedex/src/Contexts/GlobalState.js"],"names":["React","useState","useEffect","axios","GlobalContext","URL","goToDetails","useHistory","GlobalState","props","history","pokemons","setPokemons","url","setUrl","pokedex","setPokedex","details","setDetails","newPokemon","setNewPokemon","getPokemons","get","then","res","data","console","log","catch","err","addPokemon","newPoke","adicionaPoke","findIndex","i","name","newList","push","amount","states","removePokedex","poke","removePoke","id","splice","getDetail","message","requests","setters","datas","children"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport GlobalContext from './GlobalContext'\r\nimport URL from '../Constants/Url'\r\nimport { goToDetails } from \"../Routes/Coordinators\"\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst GlobalState = (props) => {\r\n\r\n    const history = useHistory();\r\n\r\n    const [pokemons, setPokemons] = useState([])\r\n    const [url, setUrl] = useState('')\r\n    const [pokedex, setPokedex] = useState([])\r\n    const [details, setDetails] = useState([])\r\n    const [newPokemon, setNewPokemon] = useState(URL)\r\n    \r\n\r\n    // useEffect(()=>{ // getPokemons() // }, [newPokemon]) \r\n\r\n    \r\n    const getPokemons = () => {\r\n        axios.get(newPokemon)\r\n            .then(res => {\r\n                setPokemons(res.data)\r\n                console.log(res.data)\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n\r\n\r\n    const addPokemon = (newPoke) => {\r\n        const adicionaPoke = pokedex.findIndex((i) => { return i.name === newPoke.name })\r\n        const newList = [...pokedex] \r\n        if (adicionaPoke === -1) {\r\n            newList.push({ ...newPoke, amount: 1 })\r\n            console.log(states.pokedex[adicionaPoke])\r\n        }\r\n        else { console.log('Pokemon já adicionado') }\r\n        setPokedex(newList); console.log(pokedex)\r\n    }\r\n\r\n    \r\n\r\n    const removePokedex = (poke) => {\r\n        const removePoke = pokedex.findIndex((i) => {\r\n            return i.id === poke.id\r\n        })\r\n        let newList = [...pokedex] \r\n        if (newList[removePoke].amount === 1) { newList.splice(removePoke, 1) }\r\n        else { newList[removePoke].amount -= 1 }; \r\n        setPokedex(newList); console.log('excluiu', pokedex)\r\n    }\r\n\r\n   \r\n\r\n    const getDetail = (name) => {\r\n        axios.get(`${URL}/${name}`)\r\n            .then(res => {\r\n                setDetails(res.data); console.log(res.data); console.log(states.details)\r\n            })\r\n            .catch(err => { console.log(err.message) })\r\n    } \r\n    \r\n    \r\n    \r\n    const requests = {getPokemons, getDetail, addPokemon, removePokedex} \r\n         \r\n    \r\n    const states = {pokemons, details, url, pokedex} \r\n    \r\n    \r\n    const setters = {setPokemons, setNewPokemon, setUrl, setPokedex} \r\n    \r\n   \r\n    \r\n    const datas = {requests, states, setters}\r\n     return( \r\n      \r\n        <GlobalContext.Provider value={datas}> {props.children} </GlobalContext.Provider> )}\r\n        \r\n\r\n        export default GlobalState"]},"metadata":{},"sourceType":"module"}