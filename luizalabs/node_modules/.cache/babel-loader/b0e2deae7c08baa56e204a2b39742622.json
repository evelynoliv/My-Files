{"ast":null,"code":"import axios from\"axios\";import{BASE_URL}from\"../Constants/URL\";import{goToHome,goToProfile,goToSignAddress,goToSignUp}from\"../Routes/Coordinator\";import{MessageArea}from\"../Assets/Alert/Alert\";export var Login=function Login(body,history){axios.post(\"\".concat(BASE_URL,\"/login\"),body).then(function(res){localStorage.setItem(\"token\",res.data.token);if(res.data.user.hasAddress===false){goToSignAddress(history);}else{goToHome(history);}}).catch(function(err){MessageArea.fire({title:err.response.data.message,icon:\"error\"});if(err.response.data.message===\"Usuário não encontrado\"){goToSignUp(history);}});};export var SignUp=function SignUp(body,clear,history){axios.post(\"\".concat(BASE_URL,\"/signup\"),body).then(function(res){localStorage.setItem(\"token\",res.data.token);clear();goToSignAddress(history);}).catch(function(err){MessageArea.fire({title:err.response.data.message,icon:\"error\"});});};export var SignAddress=function SignAddress(body,clear,history){axios.put(\"\".concat(BASE_URL,\"/address\"),body,{headers:{auth:localStorage.getItem(\"token\")}}).then(function(res){localStorage.setItem(\"token\",res.data.token);MessageArea.fire({title:\"Usuário cadastrado com sucesso!\",background:\"#058EFF\",color:\"#ffffff\"});clear();goToHome(history);}).catch(function(err){MessageArea.fire({title:err.response.data.message,icon:\"error\"});});};export var EditProfile=function EditProfile(body,history){axios.put(\"\".concat(BASE_URL,\"/profile\"),body,{headers:{auth:localStorage.getItem(\"token\")}}).then(function(res){MessageArea.fire({title:\"Perfil atualizado com sucesso!\",background:\"#058EFF\",color:\"#ffffff\"});goToProfile(history);}).catch(function(err){MessageArea.fire({title:err.response.data.message,icon:\"error\"});});};export var EditAddress=function EditAddress(body,history){axios.put(\"\".concat(BASE_URL,\"/address\"),body,{headers:{auth:localStorage.getItem(\"token\")}}).then(function(res){localStorage.setItem(\"token\",res.data.token);MessageArea.fire({title:\"Endereço atualizado com sucesso!\",background:\"#058EFF\",color:\"#ffffff\"});goToProfile(history);}).catch(function(err){MessageArea.fire({title:err.response.data.message,icon:\"error\"});});};","map":{"version":3,"sources":["C:/Users/evely/GitHub/My-Files/luizalabs/src/Services/Access.js"],"names":["axios","BASE_URL","goToHome","goToProfile","goToSignAddress","goToSignUp","MessageArea","Login","body","history","post","then","res","localStorage","setItem","data","token","user","hasAddress","catch","err","fire","title","response","message","icon","SignUp","clear","SignAddress","put","headers","auth","getItem","background","color","EditProfile","EditAddress"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { BASE_URL } from \"../Constants/URL\";\r\nimport {goToHome,goToProfile,goToSignAddress,goToSignUp,} from \"../Routes/Coordinator\";\r\n\r\nimport { MessageArea } from \"../Assets/Alert/Alert\";\r\n\r\nexport const Login = (body, history) => {\r\n  axios\r\n    .post(`${BASE_URL}/login`, body)\r\n    .then((res) => {\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      if (res.data.user.hasAddress === false) {\r\n        goToSignAddress(history);\r\n      } else {\r\n        goToHome(history);\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      MessageArea.fire({title: err.response.data.message, icon: \"error\"});\r\n      if (err.response.data.message === \"Usuário não encontrado\") {\r\n        goToSignUp(history);\r\n      }\r\n    });\r\n};\r\n\r\nexport const SignUp = (body, clear, history) => {\r\n  axios\r\n    .post(`${BASE_URL}/signup`, body)\r\n    .then((res) => {\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      clear();\r\n      goToSignAddress(history);\r\n    })\r\n    .catch((err) => {\r\n      MessageArea.fire({title: err.response.data.message, icon: \"error\"});\r\n    });\r\n};\r\n\r\nexport const SignAddress = (body, clear, history) => {\r\n  axios\r\n    .put(`${BASE_URL}/address`, body, {\r\n      headers: {\r\n        auth: localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n    .then((res) => {\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      MessageArea.fire({title: \"Usuário cadastrado com sucesso!\",\r\n        background: \"#058EFF\",\r\n        color: \"#ffffff\",\r\n      });\r\n      clear();\r\n      goToHome(history);\r\n    })\r\n    .catch((err) => {\r\n      MessageArea.fire({title: err.response.data.message, icon: \"error\"});\r\n    });\r\n};\r\n\r\nexport const EditProfile = (body, history) => {\r\n  axios\r\n    .put(`${BASE_URL}/profile`, body, {\r\n      headers: {\r\n        auth: localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n    .then((res) => {\r\n      MessageArea.fire({title: \"Perfil atualizado com sucesso!\",\r\n        background: \"#058EFF\",\r\n        color: \"#ffffff\",\r\n      });\r\n      goToProfile(history);\r\n    })\r\n    .catch((err) => {\r\n      MessageArea.fire({title: err.response.data.message, icon: \"error\"});\r\n    });\r\n};\r\n\r\nexport const EditAddress = (body, history) => {\r\n  axios\r\n    .put(`${BASE_URL}/address`, body, {\r\n      headers: {\r\n        auth: localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n    .then((res) => {\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      MessageArea.fire({title: \"Endereço atualizado com sucesso!\",\r\n        background: \"#058EFF\",\r\n        color: \"#ffffff\",\r\n      });\r\n      goToProfile(history);\r\n    })\r\n    .catch((err) => {\r\n      MessageArea.fire({title: err.response.data.message, icon: \"error\"});\r\n    });\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}