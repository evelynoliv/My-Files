{"ast":null,"code":"import React,{useEffect}from\"react\";import{EditProfile}from\"../../Services/Access\";import{useHistory}from\"react-router-dom\";import useForm from\"../../Hooks/useForm\";import TextField from\"@mui/material/TextField\";import Button from\"@mui/material/Button\";import{ButtonLoginContainer,LoginContainer,TexfieldLogin}from\"./styled\";import{BASE_URL}from\"../../Constants/URL\";import axios from\"axios\";import{useProtectedPage}from\"../../Hooks/useProtectedPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfileForm=function EditProfileForm(){useProtectedPage();var _useForm=useForm({name:\"\",email:\"\",cpf:\"\"}),form=_useForm.form,handleInputOnChange=_useForm.handleInputOnChange,setForm=_useForm.setForm;var history=useHistory();var onSubmitAddress=function onSubmitAddress(event){event.preventDefault();EditProfile(form,history);};var getProfile=function getProfile(){axios.get(\"\".concat(BASE_URL,\"/profile\"),{headers:{auth:localStorage.getItem(\"token\")}}).then(function(response){setForm({name:response.data.user.name,email:response.data.user.email,cpf:response.data.user.cpf});}).catch(function(err){alert(err.response.data.message);});};useEffect(function(){getProfile();},[]);return/*#__PURE__*/_jsx(LoginContainer,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitAddress,children:[/*#__PURE__*/_jsx(TexfieldLogin,{children:/*#__PURE__*/_jsx(TextField,{name:\"name\",value:form.name,onChange:handleInputOnChange,label:\"Nome\",type:\"text\",variant:\"outlined\",fullWidth:true,margin:\"dense\",required:true})}),/*#__PURE__*/_jsx(TexfieldLogin,{children:/*#__PURE__*/_jsx(TextField,{name:\"email\",value:form.email,onChange:handleInputOnChange,label:\"E-mail\",type:\"email\",variant:\"outlined\",fullWidth:true,margin:\"dense\",required:true})}),/*#__PURE__*/_jsx(TexfieldLogin,{children:/*#__PURE__*/_jsx(TextField,{name:\"cpf\",value:form.cpf,onChange:handleInputOnChange,label:\"CPF:000.000.000-00\",type:\"cpf\",variant:\"outlined\",fullWidth:true,margin:\"dense\",required:true})}),/*#__PURE__*/_jsx(ButtonLoginContainer,{children:/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"contained\",type:\"submit\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Salvar\"})})})]})});};export default EditProfileForm;","map":{"version":3,"sources":["C:/Users/evely/GitHub/My-Files/luizalabs/src/Pages/EditProfilePage/EditProfileForm.js"],"names":["React","useEffect","EditProfile","useHistory","useForm","TextField","Button","ButtonLoginContainer","LoginContainer","TexfieldLogin","BASE_URL","axios","useProtectedPage","EditProfileForm","name","email","cpf","form","handleInputOnChange","setForm","history","onSubmitAddress","event","preventDefault","getProfile","get","headers","auth","localStorage","getItem","then","response","data","user","catch","err","alert","message"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { EditProfile } from \"../../Services/Access\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useForm from \"../../Hooks/useForm\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { ButtonLoginContainer, LoginContainer, TexfieldLogin } from \"./styled\";\r\nimport { BASE_URL } from \"../../Constants/URL\";\r\nimport axios from \"axios\";\r\nimport { useProtectedPage } from \"../../Hooks/useProtectedPage\";\r\n\r\nconst EditProfileForm = () => {\r\n  useProtectedPage()\r\n  const { form, handleInputOnChange, setForm } = useForm({name: \"\", email: \"\", cpf:\"\" });\r\n  const history = useHistory();\r\n\r\n  const onSubmitAddress = (event) => {\r\n    event.preventDefault();\r\n    EditProfile(form, history);\r\n  };\r\n\r\n  const getProfile = () => {\r\n    axios.get(`${BASE_URL}/profile`, {\r\n      headers: {\r\n        auth: localStorage.getItem(\"token\")\r\n      }\r\n    })\r\n      .then((response) => {\r\n        setForm({ name: response.data.user.name, email: response.data.user.email, cpf: response.data.user.cpf})\r\n      })\r\n      .catch((err) => {\r\n        alert(err.response.data.message)\r\n      })\r\n     \r\n  }\r\n\r\n  useEffect(()=>{\r\n    getProfile()\r\n  },[])\r\n  \r\n  return (\r\n    <LoginContainer>\r\n      <form onSubmit={onSubmitAddress}>\r\n        <TexfieldLogin>\r\n        <TextField\r\n          name={\"name\"}\r\n          value={form.name}\r\n          onChange={handleInputOnChange}\r\n          label={\"Nome\"}\r\n          type={\"text\"}\r\n          variant={\"outlined\"}\r\n          fullWidth\r\n          margin={\"dense\"}\r\n          required\r\n        />\r\n       </TexfieldLogin>\r\n       <TexfieldLogin>\r\n        <TextField\r\n          name={\"email\"}\r\n          value={form.email}\r\n          onChange={handleInputOnChange}\r\n          label={\"E-mail\"}\r\n          type={\"email\"}\r\n          variant={\"outlined\"}\r\n          fullWidth\r\n          margin={\"dense\"}\r\n          required\r\n        />\r\n        </TexfieldLogin>\r\n        <TexfieldLogin>\r\n        <TextField\r\n          name={\"cpf\"}\r\n          value={form.cpf}\r\n          onChange={handleInputOnChange}\r\n          label={\"CPF:000.000.000-00\"}\r\n          type={\"cpf\"}\r\n          variant={\"outlined\"}\r\n          fullWidth\r\n          margin={\"dense\"}\r\n          required\r\n        />\r\n        </TexfieldLogin>\r\n       <ButtonLoginContainer>\r\n        <Button fullWidth variant=\"contained\" type=\"submit\">\r\n          <p>Salvar</p>\r\n        </Button>\r\n        </ButtonLoginContainer>\r\n       \r\n      </form>\r\n    </LoginContainer>\r\n  );\r\n};\r\n\r\nexport default EditProfileForm ;"]},"metadata":{},"sourceType":"module"}