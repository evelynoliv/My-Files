{"ast":null,"code":"import axios from \"axios\";\nimport { BASE_URL } from \"../Constants/URL\";\nimport { goToHome, goToProfile, goToSignAddress, goToSignUp } from \"../Routes/Coordinator\";\nimport { MessageSweet } from \"../Assets/Alert/Alert\";\nexport const Login = (body, history) => {\n  axios.post(`${BASE_URL}/login`, body).then(res => {\n    localStorage.setItem(\"token\", res.data.token);\n\n    if (res.data.user.hasAddress === false) {\n      goToSignAddress(history);\n    } else {\n      goToHome(history);\n    }\n  }).catch(err => {\n    MessageSweet.fire({\n      title: err.response.data.message,\n      icon: \"error\"\n    });\n\n    if (err.response.data.message === \"User not found!\") {\n      goToSignUp(history);\n    }\n  });\n};\n_c = Login;\nexport const SignUp = (body, clear, history) => {\n  axios.post(`${BASE_URL}/cadastrar`, body).then(res => {\n    localStorage.setItem(\"token\", res.data.token);\n    clear();\n    goToSignAddress(history);\n  }).catch(err => {\n    // MessageSweet.fire(\"Erro ao cadastrar usu치rio!\");\n    console.log(err.message);\n  });\n};\n_c2 = SignUp;\nexport const SignAddress = (body, clear, history) => {\n  axios.put(`${BASE_URL}/cadastrarendereco`, body, {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }).then(res => {\n    localStorage.setItem(\"token\", res.data.token);\n    MessageSweet.fire({\n      title: \"Usu치rio cadastrado com sucesso!\",\n      background: \"#e86e5a\",\n      color: \"#ffffff\"\n    });\n    clear();\n    goToHome(history);\n  }).catch(err => {\n    MessageSweet.fire({\n      title: err.response.data.message,\n      icon: \"error\"\n    });\n  });\n};\n_c3 = SignAddress;\nexport const EditProfile = (body, history) => {\n  axios.put(`$http://localhost:3000/profile`, body, {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }).then(res => {\n    MessageSweet.fire({\n      title: \"Profile updated!\",\n      background: \"#e86e5a\",\n      color: \"#ffffff\"\n    });\n    goToProfile(history);\n  }).catch(err => {\n    MessageSweet.fire({\n      title: err.response.data.message,\n      icon: \"error\"\n    });\n  });\n};\n_c4 = EditProfile;\nexport const EditAddress = (body, history) => {\n  axios.put(`${BASE_URL}/address`, body, {\n    headers: {\n      auth: localStorage.getItem(\"token\")\n    }\n  }).then(res => {\n    localStorage.setItem(\"token\", res.data.token);\n    MessageSweet.fire({\n      title: \"Addres updated!\",\n      background: \"#e86e5a\",\n      color: \"#ffffff\"\n    });\n    goToProfile(history);\n  }).catch(err => {\n    MessageSweet.fire({\n      title: err.response.data.message,\n      icon: \"error\"\n    });\n  });\n};\n_c5 = EditAddress;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"SignUp\");\n$RefreshReg$(_c3, \"SignAddress\");\n$RefreshReg$(_c4, \"EditProfile\");\n$RefreshReg$(_c5, \"EditAddress\");","map":{"version":3,"sources":["C:/Users/evely/GitHub/My-Files/luizalabs/src/Services/Access.js"],"names":["axios","BASE_URL","goToHome","goToProfile","goToSignAddress","goToSignUp","MessageSweet","Login","body","history","post","then","res","localStorage","setItem","data","token","user","hasAddress","catch","err","fire","title","response","message","icon","SignUp","clear","console","log","SignAddress","put","headers","auth","getItem","background","color","EditProfile","EditAddress"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { BASE_URL } from \"../Constants/URL\";\r\nimport {goToHome, goToProfile,goToSignAddress, goToSignUp} from \"../Routes/Coordinator\";\r\nimport { MessageSweet } from \"../Assets/Alert/Alert\";\r\n\r\nexport const Login = (body, history) => {\r\n  axios\r\n    .post(`${BASE_URL}/login`, body)\r\n    .then((res) => {\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      if (res.data.user.hasAddress === false) {\r\n        goToSignAddress(history);\r\n      } else {\r\n        goToHome(history);\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      MessageSweet.fire({title: err.response.data.message, icon: \"error\"});\r\n      if (err.response.data.message === \"User not found!\") {\r\n        goToSignUp(history);\r\n      }\r\n    });\r\n};\r\n\r\nexport const SignUp = (body, clear, history) => {\r\n  axios\r\n    .post(`${BASE_URL}/cadastrar`, body)\r\n    .then((res) => {\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      clear();\r\n      goToSignAddress(history);\r\n    })\r\n    .catch((err) => {\r\n      // MessageSweet.fire(\"Erro ao cadastrar usu치rio!\");\r\n      console.log(err.message)\r\n    });\r\n};\r\n\r\nexport const SignAddress = (body, clear, history) => {\r\n  axios\r\n    .put(`${BASE_URL}/cadastrarendereco`, body, {\r\n      headers: {\r\n        auth: localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n    .then((res) => {\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      MessageSweet.fire({title: \"Usu치rio cadastrado com sucesso!\",\r\n        background: \"#e86e5a\",\r\n        color: \"#ffffff\",\r\n      });\r\n      clear();\r\n      goToHome(history);\r\n    })\r\n    .catch((err) => {\r\n      MessageSweet.fire({title: err.response.data.message, icon: \"error\"});\r\n    });\r\n};\r\n\r\nexport const EditProfile = (body, history) => {\r\n  axios\r\n    .put(`$http://localhost:3000/profile`, body, {\r\n      headers: {\r\n        auth: localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n    .then((res) => {\r\n      MessageSweet.fire({title: \"Profile updated!\",\r\n        background: \"#e86e5a\",\r\n        color: \"#ffffff\",\r\n      });\r\n      goToProfile(history);\r\n    })\r\n    .catch((err) => {\r\n      MessageSweet.fire({title: err.response.data.message, icon: \"error\"});\r\n    });\r\n};\r\n\r\nexport const EditAddress = (body, history) => {\r\n  axios\r\n    .put(`${BASE_URL}/address`, body, {\r\n      headers: {\r\n        auth: localStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n    .then((res) => {\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      MessageSweet.fire({title: \"Addres updated!\",\r\n        background: \"#e86e5a\",\r\n        color: \"#ffffff\",\r\n      });\r\n      goToProfile(history);\r\n    })\r\n    .catch((err) => {\r\n      MessageSweet.fire({title: err.response.data.message, icon: \"error\"});\r\n    });\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}