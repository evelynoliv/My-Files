{"ast":null,"code":"import _slicedToArray from\"C:/Users/evely/Evelyn-Santos/modulo3/labe-x/labe-x/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useState}from\"react\";import{useHistory}from\"react-router-dom\";import Header from\"../components/Header\";import{LoginBox}from\"../styles\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=function LoginPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var onChangeEmail=function onChangeEmail(event){setEmail(event.target.value);};var onChangePassword=function onChangePassword(event){setPassword(event.target.value);};var history=useHistory();var goBack=function goBack(){history.goBack();};var logAdmin=function logAdmin(){history.push(\"/admin/trips/list\");};var signIn=function signIn(){var url=\"https://us-central1-labenu-apis.cloudfunctions.net/labeX/evelyn-oliveira-carver/login\";var body={email:email,password:password};console.log(email,password);axios.post(url,body).then(function(res){console.log(res.data.token,\"entrou\");localStorage.setItem(\"token\",res.data.token);history.push(\"/admin/trips/list\");}).catch(function(err){console.log(err.res,\"deu erro\");});};return/*#__PURE__*/_jsxs(LoginBox,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"E-mail\",type:\"email\",value:email,onChange:onChangeEmail}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Senha\",type:\"password\",value:password,onChange:onChangePassword}),/*#__PURE__*/_jsx(\"button\",{onClick:signIn,children:\"Entrar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:goBack,children:\"Voltar\"})]});};export default LoginPage;","map":{"version":3,"sources":["C:/Users/evely/Evelyn-Santos/modulo3/labe-x/labe-x/src/pages/LoginPage.js"],"names":["axios","useState","useHistory","Header","LoginBox","LoginPage","email","setEmail","password","setPassword","onChangeEmail","event","target","value","onChangePassword","history","goBack","logAdmin","push","signIn","url","body","console","log","post","then","res","data","token","localStorage","setItem","catch","err"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,QAAT,KAAyB,WAAzB,C,wFAGA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAEpB,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,eAAgCN,QAAQ,CAAC,EAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC7BJ,QAAQ,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR,CACH,CAFD,CAKA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACH,KAAD,CAAW,CAChCF,WAAW,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CACH,CAFD,CAIA,GAAME,CAAAA,OAAO,CAAGb,UAAU,EAA1B,CAEA,GAAMc,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjBD,OAAO,CAACC,MAAR,GACH,CAFD,CAIA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBF,OAAO,CAACG,IAAR,CAAa,mBAAb,EACH,CAFD,CAIA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjB,GAAMC,CAAAA,GAAG,CAAG,uFAAZ,CACA,GAAMC,CAAAA,IAAI,CAAG,CACTf,KAAK,CAAEA,KADE,CAETE,QAAQ,CAAEA,QAFD,CAAb,CAIAc,OAAO,CAACC,GAAR,CAAYjB,KAAZ,CAAmBE,QAAnB,EACAR,KAAK,CAACwB,IAAN,CAAWJ,GAAX,CAAgBC,IAAhB,EACKI,IADL,CACU,SAACC,GAAD,CAAS,CACXJ,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAJ,CAASC,KAArB,CAA4B,QAA5B,EACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BJ,GAAG,CAACC,IAAJ,CAASC,KAAvC,EAEAb,OAAO,CAACG,IAAR,CAAa,mBAAb,EACH,CANL,EAOKa,KAPL,CAOW,SAACC,GAAD,CAAS,CACZV,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACN,GAAhB,CAAqB,UAArB,EACH,CATL,EAYH,CAnBD,CAuBA,mBACI,MAAC,QAAD,yBACI,KAAC,MAAD,IADJ,cAGI,cACI,WAAW,CAAE,QADjB,CAEI,IAAI,CAAC,OAFT,CAGI,KAAK,CAAEpB,KAHX,CAII,QAAQ,CAAEI,aAJd,EAHJ,cASI,cACI,WAAW,CAAE,OADjB,CAEI,IAAI,CAAC,UAFT,CAGI,KAAK,CAAEF,QAHX,CAII,QAAQ,CAAEM,gBAJd,EATJ,cAeI,eAAQ,OAAO,CAAEK,MAAjB,oBAfJ,cAiBI,eAAQ,OAAO,CAAEH,MAAjB,oBAjBJ,GADJ,CA6BH,CA5ED,CA8EA,cAAeX,CAAAA,SAAf","sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Header from \"../components/Header\";\r\nimport { LoginBox } from \"../styles\";\r\n\r\n\r\nconst LoginPage = () => {\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n    const onChangeEmail = (event) => {\r\n        setEmail(event.target.value)\r\n    }\r\n\r\n\r\n    const onChangePassword = (event) => {\r\n        setPassword(event.target.value)\r\n    }\r\n\r\n    const history = useHistory()\r\n\r\n    const goBack = () => {\r\n        history.goBack()\r\n    }\r\n\r\n    const logAdmin = () => {\r\n        history.push(\"/admin/trips/list\")\r\n    }\r\n\r\n    const signIn = () => {\r\n        const url = \"https://us-central1-labenu-apis.cloudfunctions.net/labeX/evelyn-oliveira-carver/login\"\r\n        const body = {\r\n            email: email,\r\n            password: password\r\n        }\r\n        console.log(email, password)\r\n        axios.post(url, body)\r\n            .then((res) => {\r\n                console.log(res.data.token, \"entrou\");\r\n                localStorage.setItem(\"token\", res.data.token)\r\n\r\n                history.push(\"/admin/trips/list\")\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.res, \"deu erro\")\r\n            })\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <LoginBox>\r\n            <Header />\r\n\r\n            <input\r\n                placeholder={\"E-mail\"}\r\n                type=\"email\"\r\n                value={email}\r\n                onChange={onChangeEmail} />\r\n\r\n            <input\r\n                placeholder={\"Senha\"}\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={onChangePassword} />\r\n\r\n            <button onClick={signIn}>Entrar</button>\r\n\r\n            <button onClick={goBack}>Voltar</button>\r\n\r\n\r\n        </LoginBox>\r\n\r\n\r\n\r\n    )\r\n\r\n\r\n\r\n}\r\n\r\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}